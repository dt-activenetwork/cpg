# CPG 容器化架构 - 环境变量配置示例
# 复制此文件为 .env 并修改配置

# ========================================
# 构建容器配置
# ========================================

# Git 仓库配置（必需）
GIT_REPO=https://github.com/spring-projects/spring-petclinic.git
GIT_REF=main

# Pass 配置（必需）
# 可用 Pass:
# - EvaluationOrderGraphPass (必需，基础)
# - ControlFlowSensitiveDFGPass (推荐，数据流分析)
# - UnreachableEOGPass (推荐，不可达代码检测)
# - ControlDependenceGraphPass (可选，控制依赖)
# - DynamicInvokeResolver (可选，动态调用解析)
PASSES=EvaluationOrderGraphPass,ControlFlowSensitiveDFGPass,UnreachableEOGPass

# 语言前端配置（必需）
# 可用语言: java, kotlin, c, cpp, python, typescript
LANGUAGES=java

# 源码过滤（可选）
SOURCE_INCLUDES=**/*.java,**/*.kt
SOURCE_EXCLUDES=**/test/**,**/generated/**,**/build/**

# JVM 内存配置（可选）
# 根据项目大小调整：
# - 小型项目 (<10K LOC): -Xmx2g -Xms1g
# - 中型项目 (30-50K LOC): -Xmx4g -Xms2g
# - 大型项目 (100K+ LOC): -Xmx8g -Xms4g
JAVA_OPTS=-Xmx4g -Xms2g

# ========================================
# 查询容器配置
# ========================================

# 查询脚本名称（不含 .kts 扩展名）
# 可用脚本:
# - find-unreachable-code
# - security-scan
# - code-quality-check
# - license-check
# - complexity-analysis
QUERY_NAME=find-unreachable-code

# 查询超时（秒，默认 300 = 5 分钟）
QUERY_TIMEOUT=300

# 查询容器副本数（并发查询实例数，默认 1）
QUERY_REPLICAS=1

# ========================================
# 高级配置（通常不需要修改）
# ========================================

# 输出文件路径（默认: /output/graph.dump）
# OUTPUT_PATH=/output/my-graph.dump

# Docker 内存限制（通过 docker run 设置，非环境变量）
# docker run --memory=4g ...
