# CPG Java 11-17 ç‰¹æ€§æ”¯æŒè¯¦ç»†çŸ©é˜µ

## ç‰¹æ€§æ”¯æŒè¯„åˆ†æ ‡å‡†

- âœ… **100%**: å®Œå…¨æ”¯æŒï¼ŒåŒ…æ‹¬æ‰€æœ‰è¾¹ç¼˜æƒ…å†µ
- ğŸŸ¢ **80-99%**: è‰¯å¥½æ”¯æŒï¼Œä»…ç¼ºå°‘å°‘é‡è¾¹ç¼˜æƒ…å†µ
- ğŸŸ¡ **40-79%**: éƒ¨åˆ†æ”¯æŒï¼Œä¸»è¦åŠŸèƒ½å¯ç”¨ä½†æœ‰é™åˆ¶
- ğŸŸ  **20-39%**: åŸºç¡€æ”¯æŒï¼Œä»…è¯†åˆ«ä½†æ— æ³•æ­£ç¡®å¤„ç†
- âŒ **0-19%**: ä¸æ”¯æŒæˆ–å®Œå…¨é”™è¯¯

## Java 11 (LTS) ç‰¹æ€§æ”¯æŒ

| ç‰¹æ€§ | æ”¯æŒåº¦ | çŠ¶æ€ | å…·ä½“é—®é¢˜ | å½±å“èŒƒå›´ |
|------|--------|------|----------|----------|
| Local Variable Type Inference (var) | 20% | ğŸŸ  | è¯†åˆ«varä½†è¿”å›UNKNOWNç±»å‹ | æ‰€æœ‰ä½¿ç”¨varçš„ä»£ç  |
| var in Lambda Parameters | 0% | âŒ | å®Œå…¨ä¸æ”¯æŒ | Lambdaè¡¨è¾¾å¼ |
| HTTP Client API | N/A | - | æ ‡å‡†åº“ï¼Œéè¯­è¨€ç‰¹æ€§ | - |
| Nest-Based Access Control | 60% | ğŸŸ¡ | åŸºç¡€è®¿é—®æ§åˆ¶å­˜åœ¨ | å†…éƒ¨ç±»è®¿é—® |
| Dynamic Class-File Constants | 0% | âŒ | ä¸æ”¯æŒCONSTANT_Dynamic | åŠ¨æ€å¸¸é‡æ±  |

## Java 12 ç‰¹æ€§æ”¯æŒ

| ç‰¹æ€§ | æ”¯æŒåº¦ | çŠ¶æ€ | å…·ä½“é—®é¢˜ | å½±å“èŒƒå›´ |
|------|--------|------|----------|----------|
| Switch Expressions (Preview) | 12% | âŒ | æ··æ·†ä¸ºStatementï¼Œæ— arrowè¯­æ³• | æ‰€æœ‰switchè¡¨è¾¾å¼ |
| Compact Number Formatting | N/A | - | æ ‡å‡†åº“ç‰¹æ€§ | - |
| String::indent, String::transform | N/A | - | æ ‡å‡†åº“ç‰¹æ€§ | - |

## Java 13 ç‰¹æ€§æ”¯æŒ

| ç‰¹æ€§ | æ”¯æŒåº¦ | çŠ¶æ€ | å…·ä½“é—®é¢˜ | å½±å“èŒƒå›´ |
|------|--------|------|----------|----------|
| Text Blocks (Preview) | 0% | âŒ | JavaParser 3.27ä¸æ”¯æŒ | å¤šè¡Œå­—ç¬¦ä¸² |
| Switch Expressions (2nd Preview) | 12% | âŒ | åŒJava 12 | switchè¡¨è¾¾å¼ |
| Dynamic CDS Archives | N/A | - | JVMç‰¹æ€§ | - |

## Java 14 ç‰¹æ€§æ”¯æŒ

| ç‰¹æ€§ | æ”¯æŒåº¦ | çŠ¶æ€ | å…·ä½“é—®é¢˜ | ä»£ç ä½ç½® |
|------|--------|------|----------|----------|
| **Records (Preview)** | 22% | ğŸŸ  | è¯†åˆ«ä¸ºç±»ï¼Œæ— componentæ¦‚å¿µ | DeclarationHandler.kt:200+ |
| **Pattern Matching instanceof (Preview)** | 2% | âŒ | æ— PatternExpressionèŠ‚ç‚¹ | ExpressionHandler.ktç¼ºå¤± |
| Switch Expressions (Stable) | 12% | âŒ | ä»æ˜¯Statement | StatementHandler.kt |
| Helpful NullPointerExceptions | 0% | âŒ | æ— è¯¦ç»†ä¿¡æ¯ | - |
| JFR Event Streaming | N/A | - | JVMç‰¹æ€§ | - |

### Recordsè¯¦ç»†åˆ†æ

| Recordç»„ä»¶ | æ”¯æŒæƒ…å†µ | é—®é¢˜æè¿° |
|-----------|----------|----------|
| Recordå£°æ˜ | âœ… å¯è§£æ | ä½†å½“ä½œæ™®é€šclass |
| Canonical Constructor | ğŸŸ  éƒ¨åˆ† | è¯†åˆ«ä¸ºæ™®é€šæ„é€ å‡½æ•° |
| Compact Constructor | âŒ ä¸æ”¯æŒ | æ— æ³•è§£æç®€åŒ–è¯­æ³• |
| Component Methods | âŒ ä¸ç”Ÿæˆ | ä¸è‡ªåŠ¨ç”Ÿæˆaccessor |
| equals/hashCode/toString | âŒ ä¸ç”Ÿæˆ | ä¸è‡ªåŠ¨ç”Ÿæˆ |

## Java 15 ç‰¹æ€§æ”¯æŒ

| ç‰¹æ€§ | æ”¯æŒåº¦ | çŠ¶æ€ | å…·ä½“é—®é¢˜ | å½±å“èŒƒå›´ |
|------|--------|------|----------|----------|
| **Text Blocks (Stable)** | 0% | âŒ | æ— TextBlockLiteralèŠ‚ç‚¹ | æ‰€æœ‰å¤šè¡Œå­—ç¬¦ä¸² |
| **Sealed Classes (Preview)** | 0% | âŒ | æ— sealedä¿®é¥°ç¬¦æ”¯æŒ | ç±»å‹å±‚æ¬¡é™åˆ¶ |
| Pattern Matching instanceof (2nd Preview) | 2% | âŒ | åŒJava 14 | instanceof patterns |
| Records (2nd Preview) | 22% | ğŸŸ  | åŒJava 14 | Records |
| Hidden Classes | N/A | - | JVMç‰¹æ€§ | - |

### Sealed Classesè¯¦ç»†åˆ†æ

| Sealedç»„ä»¶ | æ”¯æŒæƒ…å†µ | ç¼ºå¤±åŠŸèƒ½ |
|-----------|----------|----------|
| sealedä¿®é¥°ç¬¦ | âŒ | ä½œä¸ºå­—ç¬¦ä¸²å­˜å‚¨ï¼Œæ— è¯­ä¹‰ |
| permitså­å¥ | âŒ | å®Œå…¨ä¸è§£æ |
| non-sealed | âŒ | ä¸è¯†åˆ« |
| ç©·å°½æ€§æ£€æŸ¥ | âŒ | æ— æ³•å®ç° |

## Java 16 ç‰¹æ€§æ”¯æŒ

| ç‰¹æ€§ | æ”¯æŒåº¦ | çŠ¶æ€ | å…·ä½“é—®é¢˜ | å½±å“èŒƒå›´ |
|------|--------|------|----------|----------|
| **Records (Stable)** | 22% | ğŸŸ  | åŒJava 14ï¼Œç°å·²ç¨³å®š | æ‰€æœ‰Records |
| **Pattern Matching instanceof (Stable)** | 2% | âŒ | åŒJava 14ï¼Œç°å·²ç¨³å®š | instanceof |
| Sealed Classes (2nd Preview) | 0% | âŒ | åŒJava 15 | å¯†å°ç±» |
| Stream.toList() | N/A | - | æ ‡å‡†åº“æ–¹æ³• | - |
| Unix-Domain Socket Channels | N/A | - | æ ‡å‡†åº“ç‰¹æ€§ | - |

## Java 17 (LTS) ç‰¹æ€§æ”¯æŒ

| ç‰¹æ€§ | æ”¯æŒåº¦ | çŠ¶æ€ | å…·ä½“é—®é¢˜ | å®ç°å¤æ‚åº¦ |
|------|--------|------|----------|------------|
| **Sealed Classes (Stable)** | 0% | âŒ | å®Œå…¨ç¼ºå¤±å®ç° | ä¸­ç­‰(1-2å‘¨) |
| **Pattern Matching for switch (Preview)** | 0% | âŒ | æ— ä»»ä½•æ”¯æŒ | é«˜(3-4å‘¨) |
| Enhanced Pseudo-Random Number Generators | N/A | - | æ ‡å‡†åº“ | - |
| Foreign Function & Memory API | N/A | - | æ ‡å‡†åº“ | - |
| Context-Specific Deserialization Filters | N/A | - | æ ‡å‡†åº“ | - |

### Pattern Matching for switchè¯¦ç»†åˆ†æ

| æ¨¡å¼ç±»å‹ | æ”¯æŒæƒ…å†µ | éœ€è¦çš„å·¥ä½œ |
|---------|----------|------------|
| Type Patterns | âŒ | PatternExpressionèŠ‚ç‚¹ |
| Guarded Patterns | âŒ | æ¡ä»¶è¡¨è¾¾å¼æ”¯æŒ |
| Parenthesized Patterns | âŒ | æ¨¡å¼ç»„åˆ |
| null case | âŒ | ç‰¹æ®Šnullå¤„ç† |
| Pattern Dominance | âŒ | é™æ€åˆ†æ |

## æ”¯æŒåº¦æ±‡æ€»ç»Ÿè®¡

### æŒ‰Javaç‰ˆæœ¬

| Javaç‰ˆæœ¬ | è¯­è¨€ç‰¹æ€§æ•° | æ”¯æŒçš„ | éƒ¨åˆ†æ”¯æŒ | ä¸æ”¯æŒ | å¹³å‡æ”¯æŒåº¦ |
|----------|-----------|--------|----------|--------|------------|
| Java 11 | 5 | 0 | 2 | 3 | 16% |
| Java 12 | 2 | 0 | 0 | 2 | 6% |
| Java 13 | 2 | 0 | 0 | 2 | 6% |
| Java 14 | 4 | 0 | 1 | 3 | 12% |
| Java 15 | 4 | 0 | 1 | 3 | 6% |
| Java 16 | 3 | 0 | 1 | 2 | 8% |
| Java 17 | 2 | 0 | 0 | 2 | 0% |
| **æ€»è®¡** | **22** | **0** | **5** | **17** | **7.7%** |

### æŒ‰ç‰¹æ€§ç±»åˆ«

| ç±»åˆ« | ç‰¹æ€§ | æ”¯æŒåº¦ | ä¼˜å…ˆçº§ | å®ç°éš¾åº¦ |
|------|------|--------|--------|----------|
| **ç±»å‹ç³»ç»Ÿ** | var, Records, Sealed | 14% | P0 | ä¸­ |
| **æ¨¡å¼åŒ¹é…** | instanceof, switch patterns | 1% | P1 | é«˜ |
| **æ§åˆ¶æµ** | Switch expressions, yield | 12% | P1 | ä¸­ |
| **è¯­æ³•ç³–** | Text blocks, compact constructors | 0% | P2 | ä½ |
| **æ¨¡å—ç³»ç»Ÿ** | Module enhancements | 30% | P2 | ä¸­ |

## å…³é”®æ´å¯Ÿ

### æœ€å¤§çš„Gap

1. **Pattern Matchingç”Ÿæ€ç³»ç»Ÿå®Œå…¨ç¼ºå¤±**
   - å½±å“: Java 14-17æœ€é‡è¦çš„ç‰¹æ€§æ— æ³•ä½¿ç”¨
   - éœ€è¦: å…¨æ–°çš„èŠ‚ç‚¹ç±»å‹å’Œåˆ†æåŸºç¡€è®¾æ–½

2. **Recordsè¢«ä¸¥é‡ç®€åŒ–**
   - å½±å“: æ— æ³•åŒºåˆ†Recordså’Œæ™®é€šç±»
   - éœ€è¦: RecordComponentDeclarationèŠ‚ç‚¹

3. **ç±»å‹æ¨æ–­èƒ½åŠ›ä¸è¶³**
   - å½±å“: varã€diamond operatorã€target typingå¤±æ•ˆ
   - éœ€è¦: å¢å¼ºTypeResolver

### å¿«é€Ÿæ”¹è¿›æœºä¼š

| æ”¹è¿›é¡¹ | å½“å‰ | ç›®æ ‡ | å·¥ä½œé‡ | ROI |
|--------|------|------|--------|-----|
| ä¿®å¤varæ¨æ–­ | 20% | 95% | 3-5å¤© | æé«˜ |
| æ·»åŠ RecordèŠ‚ç‚¹ | 22% | 80% | 1å‘¨ | é«˜ |
| ä¿®å¤Switchè¡¨è¾¾å¼ | 12% | 90% | 1å‘¨ | é«˜ |
| å®ç°åŸºç¡€Pattern | 2% | 60% | 2å‘¨ | ä¸­ |
| æ”¯æŒSealed | 0% | 80% | 1å‘¨ | ä¸­ |

## ç»“è®º

CPGå½“å‰å¯¹Java 11-17çš„æ”¯æŒæå…¶æœ‰é™ï¼ˆå¹³å‡7.7%ï¼‰ï¼Œä½†å¤§éƒ¨åˆ†é—®é¢˜æ˜¯å®ç°ç¼ºå¤±è€Œéæ¶æ„é™åˆ¶ã€‚é€šè¿‡3-4ä¸ªæœˆçš„é›†ä¸­å¼€å‘ï¼Œå¯ä»¥å°†æ”¯æŒåº¦æå‡åˆ°85%ä»¥ä¸Šï¼Œä½¿CPGèƒ½å¤Ÿæœ‰æ•ˆåˆ†æç°ä»£Javaä»£ç ã€‚

ä¼˜å…ˆçº§å»ºè®®ï¼š
1. **ç¬¬ä¸€æ‰¹**: varæ¨æ–­ã€RecordèŠ‚ç‚¹ï¼ˆ2å‘¨ï¼Œæå‡åˆ°40%ï¼‰
2. **ç¬¬äºŒæ‰¹**: Switchè¡¨è¾¾å¼ã€åŸºç¡€Patternï¼ˆ2å‘¨ï¼Œæå‡åˆ°60%ï¼‰
3. **ç¬¬ä¸‰æ‰¹**: Sealedã€å®Œæ•´Patternï¼ˆ3å‘¨ï¼Œæå‡åˆ°80%ï¼‰
4. **ç¬¬å››æ‰¹**: è¾¹ç¼˜æƒ…å†µã€ä¼˜åŒ–ï¼ˆ2å‘¨ï¼Œæå‡åˆ°90%+ï¼‰