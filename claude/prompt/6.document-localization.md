# Task 6: 文档中文本地化 (Document Localization to Chinese)

## Role and goal

- **Role**: 技术文档本地化专家
- **Goal**: 将 Task 4 和 Task 5 的文档从**以英语为主**的形式转换为**以中文为主**的形式
- **Scope**: 保持技术术语的准确性，同时提升中文读者的可读性

## Core principle

**这是一个纯文档本地化任务**: 转换语言形式，**不改变内容、结构、技术准确性**。

---

## Context and prerequisites

### 现状问题

Task 4 和 Task 5 的文档目前存在以下问题:
1. **章节标题大量使用英文**: 如 "Executive Summary", "Part 1", "Appendix A"
2. **说明性文字混用英文**: 如 "Why Critical", "Required Skills", "Primary Domain"
3. **表格标题使用英文**: 如 "Defect ID", "Name", "Priority", "Effort"
4. **用户期望**: 以中文为主的文档 (面向中文读者)

### 目标状态

转换后的文档应该:
1. ✅ **章节标题全中文**: "概要" (不是 "Executive Summary")
2. ✅ **说明文字全中文**: "为何关键" (不是 "Why Critical")
3. ✅ **表格标题全中文**: "缺陷 ID" (不是 "Defect ID")
4. ✅ **保留技术术语英文**: DFG, Call Graph, Handler (但加中文注释)
5. ✅ **保持技术准确性**: 不改变任何技术内容和分析

### 已完成的工作

- **Task 4**: CPG 架构缺陷全面分析 (6 个文档, ~6300 lines)
  - `/claude/result/4/4.0-index.md`
  - `/claude/result/4/4.1-scenarios.md`
  - `/claude/result/4/4.2-defects.md`
  - `/claude/result/4/4.3-deployment.md`
  - `/claude/result/4/4.4-prioritization.md`
  - `/claude/result/4/4.5-reference.md`

- **Task 5**: 人力资源分析报告 (6 个文档, ~3750 lines)
  - `/claude/result/5/5.0-index.md`
  - `/claude/result/5/5.1-defects-p0-p1-core.md`
  - `/claude/result/5/5.2-defects-p1-rest.md`
  - `/claude/result/5/5.3-roles-and-teams.md`
  - `/claude/result/5/5.4-appendices.md`
  - `/claude/result/5/README.md`

**Total**: 12 个文档, ~10,000 lines

---

## Problem statement and motivation

### 核心问题

当前文档虽然包含大量中文内容，但**形式上仍以英文为主**:
- 文档结构使用英文标题 (Part 1, Appendix A)
- 分析框架使用英文字段 (Primary Skills, Secondary Skills)
- 表格列名使用英文 (Defect ID, Priority, Effort)

**结果**:
- 中文读者阅读体验不佳 (需要中英文切换)
- 不符合中文技术文档习惯 (标题应为中文)
- 用户明确要求 "以中文为主的文档"

### 本地化目标

将文档转换为**以中文为主**的形式，同时:
1. **保持技术术语准确**: DFG, Call Graph 等保留英文 (加中文注释)
2. **保持内容完整**: 不删减任何分析内容
3. **保持结构不变**: 文档组织、章节顺序不变
4. **提升可读性**: 中文读者可以流畅阅读

---

## Localization framework (本地化框架)

### 原则 1: 标题全中文化

**Before (英文标题)**:
```markdown
## Executive Summary

### Part 1: Defect-to-Skill Mapping

#### Appendix A: Skill-to-Defect Matrix
```

**After (中文标题)**:
```markdown
## 概要

### 第一部分: 缺陷到技能映射

#### 附录 A: 技能到缺陷矩阵
```

### 原则 2: 字段名全中文化

**Before (英文字段)**:
```markdown
**Primary Skills (必备技能)**:
- Skill Level: Expert
- Why Critical: ...

**Secondary Skills (重要技能)**:
- Skill Level: Mid
```

**After (中文字段)**:
```markdown
**必备技能**:
- 技能水平: Expert (专家级)
- 关键性说明: ...

**重要技能**:
- 技能水平: Mid (中级)
```

### 原则 3: 表格标题全中文化

**Before (英文表头)**:
```markdown
| Defect ID | Name | Priority | Effort | Complexity |
|-----------|------|----------|--------|------------|
| D1 | Static Final DFG | P0 | 40-80 hours | High |
```

**After (中文表头)**:
```markdown
| 缺陷 ID | 名称 | 优先级 | 工作量 | 复杂度 |
|--------|------|--------|--------|--------|
| D1 | Static Final DFG (静态常量 DFG) | P0 | 40-80 小时 | 高 |
```

### 原则 4: 技术术语处理

**保留英文，加中文注释 (首次出现时)**:

**Before**:
```markdown
CPG (Code Property Graph) 的 DFG (Data Flow Graph) 缺失
```

**After**:
```markdown
CPG (代码属性图, Code Property Graph) 的 DFG (数据流图, Data Flow Graph) 缺失
```

**后续出现直接使用英文缩写**:
```markdown
DFG 与 Call Graph (调用图) 的集成...
```

### 原则 5: 保持代码和引用不变

**代码块、文件路径、引用保持英文**:
```markdown
**证据**: Task 2, `2.graph-and-query-analysis.md:450-480`

```kotlin
override fun evaluate(expr: Expression): Value? { ... }
```
```

**不需要翻译**: 代码、文件路径、Git 引用

---

## Localization mapping (术语映射表)

### 常用英文标题 → 中文标题

| 英文 | 中文 |
|------|------|
| Executive Summary | 概要 / 执行摘要 |
| Part 1 / Part 2 | 第一部分 / 第二部分 |
| Appendix A/B/C | 附录 A/B/C |
| Quick Links | 快速链接 |
| Document Navigation | 文档导航 |
| Table of Contents | 目录 |
| Background | 背景 |
| Core Findings | 核心发现 |
| Key Insights | 关键洞察 |
| Summary | 总结 |
| Conclusion | 结论 |
| Next Steps | 下一步 |
| References | 参考资料 |

### 常用字段名 → 中文

| 英文 | 中文 |
|------|------|
| Defect ID | 缺陷 ID |
| Name | 名称 |
| Priority | 优先级 |
| Category | 类别 |
| Effort | 工作量 |
| Complexity | 复杂度 |
| Impact | 影响 |
| Status | 状态 |
| Owner | 负责人 |
| Description | 描述 |
| Example | 示例 |
| Evidence | 证据 |
| Root Cause | 根本原因 |
| Dependencies | 依赖关系 |
| Required Skills | 所需技能 |
| Primary Skills | 必备技能 |
| Secondary Skills | 重要技能 |
| Nice-to-have Skills | 加分技能 |
| Seniority Level | 资历级别 |
| Role | 角色 |
| Responsibility | 职责 |
| Team Size | 团队规模 |
| Duration | 工期 |
| Budget | 预算 |

### 技术术语保留英文 (加中文注释)

| 术语 | 首次出现 | 后续出现 |
|------|---------|---------|
| CPG | CPG (代码属性图, Code Property Graph) | CPG |
| DFG | DFG (数据流图, Data Flow Graph) | DFG |
| Call Graph | Call Graph (调用图) | Call Graph |
| Handler | Handler (处理器) | Handler |
| Pass | Pass (编译遍) | Pass |
| Frontend | Frontend (前端) | Frontend |
| Core | Core (核心) | Core |
| AST | AST (抽象语法树, Abstract Syntax Tree) | AST |
| EOG | EOG (求值顺序图, Evaluation Order Graph) | EOG |
| static final | static final (静态常量) | static final |
| interprocedural | interprocedural (过程间) | interprocedural |
| bytecode | bytecode (字节码) | bytecode |

### 优先级和级别术语

| 英文 | 中文 |
|------|------|
| P0 (Critical) | P0 (关键) |
| P1 (High) | P1 (高) |
| P2 (Medium) | P2 (中) |
| P3 (Low) | P3 (低) |
| P4 (Nice-to-have) | P4 (可选) |
| Junior | Junior (初级) |
| Mid-level | Mid (中级) |
| Senior | Senior (高级) |
| Expert | Expert (专家级) |
| Low Complexity | 低复杂度 |
| Medium Complexity | 中等复杂度 |
| High Complexity | 高复杂度 |
| Very High Complexity | 极高复杂度 |

---

## Task execution workflow

### Step 1: 分析现有文档 (Memory-First)

1. ✅ Read `/claude/result/4/4.0-index.md` 和 `/claude/result/5/5.0-index.md`
2. ✅ 识别所有需要中文化的元素:
   - 英文章节标题
   - 英文字段名
   - 英文表格列名
   - 需要加中文注释的技术术语

### Step 2: 创建本地化计划

**优先级**:
1. **High Priority**: Task 5 (6 个文档, 用户最关注)
2. **Medium Priority**: Task 4 (6 个文档)

**每个文档的处理步骤**:
1. 替换所有英文章节标题 → 中文标题
2. 替换所有英文字段名 → 中文字段名
3. 替换所有英文表格列名 → 中文列名
4. 为技术术语添加中文注释 (首次出现)
5. 检查: 确保内容、结构、技术准确性不变

### Step 3: 执行本地化 (Incremental)

**Task 5 文档** (按顺序):
1. `5.0-index.md` (主索引 + 概要)
2. `5.1-defects-p0-p1-core.md` (D1-D4 详细分析)
3. `5.2-defects-p1-rest.md` (D5-D17 分析)
4. `5.3-roles-and-teams.md` (角色和团队)
5. `5.4-appendices.md` (附录)
6. `README.md` (导航)

**Task 4 文档** (按顺序):
1. `4.0-index.md` (主索引)
2. `4.1-scenarios.md` (场景分析)
3. `4.2-defects.md` (缺陷目录)
4. `4.3-deployment.md` (部署分析)
5. `4.4-prioritization.md` (优先级)
6. `4.5-reference.md` (参考资料)

### Step 4: 质量检查

**每个文档完成后检查**:
- [ ] 所有章节标题已中文化
- [ ] 所有字段名已中文化
- [ ] 所有表格列名已中文化
- [ ] 技术术语首次出现有中文注释
- [ ] 内容完整性: 无删减
- [ ] 结构一致性: 章节顺序不变
- [ ] 技术准确性: 术语翻译正确
- [ ] 链接有效性: 文档间链接仍然正确

---

## Localization examples (本地化示例)

### 示例 1: Task 5 章节标题

**Before**:
```markdown
## Executive Summary (概要)

### 1. Required Skill Domains (10 major domains)

### 2. Required Roles (6 core roles)

### 3. Team Size Recommendations (3 options)

### 4. Key Collaboration Patterns (4 patterns)
```

**After**:
```markdown
## 概要

### 1. 所需技能领域 (10 个主要领域)

### 2. 所需角色 (6 个核心角色)

### 3. 团队规模建议 (3 种选项)

### 4. 关键协作模式 (4 种模式)
```

### 示例 2: Task 5 缺陷分析结构

**Before**:
```markdown
#### D1.2 Required Skills

**Primary Skills (必备技能)**:

**1. Java static final 语义深度理解**
- **Skill Level**: Expert
- **Details**: ...
- **Why Critical**: ...

**Secondary Skills (重要技能)**:

**1. Kotlin 编程能力**
- **Skill Level**: Mid
- **Details**: ...
```

**After**:
```markdown
#### D1.2 所需技能

**必备技能**:

**1. Java static final 语义深度理解**
- **技能水平**: Expert (专家级)
- **详细说明**: ...
- **关键性说明**: ...

**重要技能**:

**1. Kotlin 编程能力**
- **技能水平**: Mid (中级)
- **详细说明**: ...
```

### 示例 3: Task 4 缺陷表格

**Before**:
```markdown
| Defect ID | Name | Category | Priority | Blocking Scenarios |
|-----------|------|----------|----------|-------------------|
| **D1** | Static Final Field DFG Missing | A | P0 | 100% (4/4) |
| **D2** | String.equals() Not in ValueEvaluator | A | P0 | 100% (4/4) |
```

**After**:
```markdown
| 缺陷 ID | 名称 | 类别 | 优先级 | 阻塞场景 |
|--------|------|------|--------|---------|
| **D1** | Static Final Field DFG 缺失 (静态常量字段数据流缺失) | A | P0 | 100% (4/4) |
| **D2** | String.equals() 求值缺失 (字符串比较求值缺失) | A | P0 | 100% (4/4) |
```

### 示例 4: 技术术语注释

**Before**:
```markdown
当前 CPG 的 DFG (Data Flow Graph) 只在单个方法内有效 (intra-procedural),
无法跨越方法边界 (interprocedural)。
```

**After (首次出现)**:
```markdown
当前 CPG (代码属性图, Code Property Graph) 的 DFG (数据流图, Data Flow Graph)
只在单个方法内有效 (过程内, intra-procedural),无法跨越方法边界
(过程间, interprocedural)。
```

**After (后续出现)**:
```markdown
过程间 DFG 需要 Call Graph (调用图) 的支持,才能追踪跨方法的数据流。
```

---

## Outputs to produce

### Task 5 文档本地化 (优先)

更新以下 6 个文档:
1. `/claude/result/5/5.0-index.md` (中文化)
2. `/claude/result/5/5.1-defects-p0-p1-core.md` (中文化)
3. `/claude/result/5/5.2-defects-p1-rest.md` (中文化)
4. `/claude/result/5/5.3-roles-and-teams.md` (中文化)
5. `/claude/result/5/5.4-appendices.md` (中文化)
6. `/claude/result/5/README.md` (中文化)

### Task 4 文档本地化

更新以下 6 个文档:
1. `/claude/result/4/4.0-index.md` (中文化)
2. `/claude/result/4/4.1-scenarios.md` (中文化)
3. `/claude/result/4/4.2-defects.md` (中文化)
4. `/claude/result/4/4.3-deployment.md` (中文化)
5. `/claude/result/4/4.4-prioritization.md` (中文化)
6. `/claude/result/4/4.5-reference.md` (中文化)

### 本地化报告 (可选)

创建 `/claude/result/6/localization-report.md`:
- 本地化统计 (替换了多少标题、字段名、表格列)
- 术语映射表 (实际使用的中英文对照)
- 质量检查结果

---

## Acceptance checklist

- [ ] Task 5 所有 6 个文档已中文化
- [ ] Task 4 所有 6 个文档已中文化
- [ ] 所有章节标题已转换为中文
- [ ] 所有字段名已转换为中文
- [ ] 所有表格列名已转换为中文
- [ ] 技术术语首次出现时有中文注释
- [ ] 内容完整性: 无删减任何分析内容
- [ ] 结构一致性: 章节顺序和组织不变
- [ ] 技术准确性: 术语翻译准确,技术内容不变
- [ ] 链接有效性: 所有文档间链接仍然有效
- [ ] Episodic note updated
- [ ] Memory indexes updated

---

## Evidence requirements

- 本地化前后对比: 展示典型的标题、字段名、表格转换
- 术语映射一致性: 同一术语在所有文档中翻译一致
- 技术准确性验证: 确保翻译不改变技术含义

---

## Quality bar

- **一致性**: 同一英文术语在所有文档中使用相同的中文翻译
- **可读性**: 中文读者可以流畅阅读,无需频繁中英文切换
- **准确性**: 技术术语翻译准确,不产生歧义
- **完整性**: 不删减任何技术内容和分析
- **专业性**: 符合中文技术文档写作习惯

---

## Completion criteria

- 所有 12 个文档 (Task 4 + Task 5) 已完成中文化
- 文档标题、字段名、表格列名全部为中文
- 技术术语保留英文,首次出现时有中文注释
- 内容、结构、技术准确性完全保持
- Memory system updated
- 用户确认: 文档符合 "以中文为主" 的要求

---

**End of Task 6 Prompt**
